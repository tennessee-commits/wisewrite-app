<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Challenges ‚Äì WiseWrite</title>

  <!-- Tailwind + fonts -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Anime.js + confetti + splitting + splide -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/splitting@1.0.6/dist/splitting.css">
  <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">

  <style>
    body { font-family: 'Inter', sans-serif; background: #f7fafc; }
    .challenge-card { transition: all .2s; }
    .challenge-card:hover { transform: translateY(-4px); }
    .confetti-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- CONFETTI CANVAS -->
  <canvas id="confettiCanvas" class="confetti-canvas"></canvas>

  <!-- NAV -->
  <nav class="bg-white shadow-sm border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <a href="index.html" class="text-gray-500 hover:text-gray-700 text-sm">‚Üê Home</a>
        <h1 class="text-xl font-semibold text-gray-900">Writing Challenges</h1>
        <div class="w-10"></div>
      </div>
    </div>
  </nav>

  <!-- STREAK & XP -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="bg-white rounded-2xl shadow-lg p-6 text-center reveal-element">
        <p class="text-sm text-gray-600">Current Streak</p>
        <p class="text-4xl font-bold text-gray-900" id="streak">0</p>
        <p class="text-xs text-gray-500 mt-1">days</p>
      </div>
      <div class="bg-white rounded-2xl shadow-lg p-6 text-center reveal-element">
        <p class="text-sm text-gray-600">Total XP</p>
        <p class="text-4xl font-bold text-gray-900" id="xpValue">0</p>
        <p class="text-xs text-gray-500 mt-1">points</p>
      </div>
      <div class="bg-white rounded-2xl shadow-lg p-6 text-center reveal-element">
        <p class="text-sm text-gray-600">Next Badge</p>
        <p class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500">üèÜ</p>
        <p class="text-xs text-gray-500 mt-1">500 XP</p>
      </div>
    </div>
  </section>

  <!-- TODAY‚ÄôS CHALLENGE -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8">
    <div class="bg-gradient-to-r from-red-400 to-pink-400 rounded-2xl shadow-lg p-8 text-white reveal-element">
      <h2 class="text-2xl font-bold mb-2">Today‚Äôs Challenge</h2>
      <p class="text-lg mb-6" id="prompt">Loading‚Ä¶</p>
      <textarea id="challengeEditor" class="w-full p-4 rounded-lg border-0 text-gray-800 placeholder-gray-400" rows="6" placeholder="15-minute sprint‚Ä¶"></textarea>
      <div class="mt-4 flex items-center justify-between">
        <button id="submit" class="bg-white text-red-500 px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition">Mark Complete</button>
        <span class="text-sm">+100 XP on finish</span>
      </div>
    </div>
  </section>

  <!-- 30-DAY GRID -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12">
    <h2 class="text-xl font-semibold text-gray-900 mb-4 reveal-element">30-Day Challenge Board</h2>
    <div class="grid grid-cols-5 md:grid-cols-10 gap-3 reveal-element">
      <!-- Day 1 -->
      <div class="challenge-card bg-green-100 rounded-lg p-3 text-center border-2 border-green-300">
        <p class="text-xs text-green-700">Day 1</p>
        <svg class="w-6 h-6 text-green-600 mx-auto mt-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
      </div>
      <!-- Day 2 -->
      <div class="challenge-card bg-green-100 rounded-lg p-3 text-center border-2 border-green-300">
        <p class="text-xs text-green-700">Day 2</p>
        <svg class="w-6 h-6 text-green-600 mx-auto mt-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
      </div>
      <!-- Day 3 -->
      <div class="challenge-card bg-green-100 rounded-lg p-3 text-center border-2 border-green-300">
        <p class="text-xs text-green-700">Day 3</p>
        <svg class="w-6 h-6 text-green-600 mx-auto mt-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
      </div>
      <!-- Days 4-29 gray placeholders -->
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 4</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 5</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 6</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 7</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 8</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 9</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 10</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 11</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 12</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 13</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 14</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 15</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 16</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 17</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 18</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 19</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 20</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 21</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 22</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 23</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 24</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 25</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 26</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 27</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 28</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 29</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
      <div class="challenge-card bg-gray-100 rounded-lg p-3 text-center border-2 border-gray-200">
        <p class="text-xs text-gray-500">Day 30</p>
        <div class="w-6 h-6 mx-auto mt-1 rounded-full bg-gray-300"></div>
      </div>
    </div>
  </section>

  <!-- ACHIEVEMENT BADGES -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12">
    <h2 class="text-xl font-semibold text-gray-900 mb-4 reveal-element">Achievement Badges</h2>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 reveal-element">
      <div class="bg-white rounded-lg p-4 text-center border-2 border-yellow-300 shadow">
        <p class="text-2xl">üèÜ</p>
        <p class="text-xs text-gray-700 mt-1">First Post</p>
      </div>
      <div class="bg-white rounded-lg p-4 text-center border-2 border-gray-200">
        <p class="text-2xl opacity-30">üî•</p>
        <p class="text-xs text-gray-500 mt-1">7-Day Streak</p>
      </div>
      <div class="bg-white rounded-lg p-4 text-center border-2 border-gray-200">
        <p class="text-2xl opacity-30">üíé</p>
        <p class="text-xs text-gray-500 mt-1">Quality Master</p>
      </div>
      <div class="bg-white rounded-lg p-4 text-center border-2 border-gray-200">
        <p class="text-2xl opacity-30">‚ö°</p>
        <p class="text-xs text-gray-500 mt-1">Speed Writer</p>
      </div>
    </div>
  </section>

  <!-- LEADERBOARD CAROUSEL -->
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12">
    <h2 class="text-xl font-semibold text-gray-900 mb-4 reveal-element">Weekly Leaderboard</h2>
    <div id="leaderboard-slider" class="splide reveal-element">
      <div class="splide__track">
        <ul class="splide__list">
          <li class="splide__slide">
            <div class="bg-white rounded-2xl shadow-lg p-6 mx-2">
              <div class="flex items-center space-x-4">
                <div class="flex-shrink-0"><span class="text-2xl">ü•á</span></div>
                <div><p class="font-semibold text-gray-900">@writerQueen</p><p class="text-sm text-gray-500">1,250 XP</p></div>
              </div>
            </div>
          </li>
          <li class="splide__slide">
            <div class="bg-white rounded-2xl shadow-lg p-6 mx-2">
              <div class="flex items-center space-x-4">
                <div class="flex-shrink-0"><span class="text-2xl">ü•à</span></div>
                <div><p class="font-semibold text-gray-900">@prosePro</p><p class="text-sm text-gray-500">1,180 XP</p></div>
              </div>
            </div>
          </li>
          <li class="splide__slide">
            <div class="bg-white rounded-2xl shadow-lg p-6 mx-2">
              <div class="flex items-center space-x-4">
                <div class="flex-shrink-0"><span class="text-2xl">ü•â</span></div>
                <div><p class="font-semibold text-gray-900">@wordNinja</p><p class="text-sm text-gray-500">1,090 XP</p></div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </section>

  <!-- HIDDEN ANIMATION SCRIPT -->
  <script>
    /* splitting reveal on scroll */
    Splitting({ target: '.reveal-element', by: 'lines' });
    const io = new IntersectionObserver((entries) => entries.forEach(e => e.target.classList.toggle('revealed', e.isIntersecting)));
    document.querySelectorAll('.reveal-element').forEach(el => io.observe(el));

    /* splide carousel */
    new Splide('#leaderboard-slider', { perPage: 1, gap: '1rem', arrows: false, pagination: true, autoplay: true, interval: 4000 }).mount();

    /* XP + streak from localStorage */
    const saveKey = (page, key) => `ww_${page}_${key}`;
    const xpSpan = document.getElementById('xpValue');
    const streakSpan = document.getElementById('streak');
    let xp = +(localStorage.getItem(saveKey('chall','xp')) || 0);
    let streak = +(localStorage.getItem(saveKey('dash','streak')) || 0);
    xpSpan.textContent = xp;
    streakSpan.textContent = streak;

    /* daily prompt */
    const prompts = [
      "Write the ad that would make your 12-year-old self cry happy tears.",
      "Describe the smell of your first victory.",
      "Two characters swap bodies for 24 h‚Äîwhat‚Äôs the first thing each breaks?",
      "A thrift-store find starts talking at 3 a.m. What does it want?",
      "Invent a new holiday that costs zero dollars."
    ];
    const today = new Date().getDay();
    document.getElementById('prompt').textContent = prompts[today % prompts.length];

    /* confetti burst on submit */
    document.getElementById('submit').onclick = () => {
      xp += 100;
      localStorage.setItem(saveKey('chall','xp'), xp);
      xpSpan.textContent = xp;
      streak += 1;
      localStorage.setItem(saveKey('dash','streak'), streak);
      streakSpan.textContent = streak;
      confetti({
        particleCount: 120,
        spread: 70,
        origin: { y: 0.6 }
      });
      alert('Challenge logged! +100 XP');
    };
  </script>

  <script src="main.js"></script>
</body>
</html>
